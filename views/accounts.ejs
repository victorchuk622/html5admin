<% var title = 'Accounts' %>
<% include head %>
<!--css insert here-->
</head>
<body>
<div class="container-fluid">
    <% include navbar %>
    <div class="container responsive">
        <h1><%= title %></h1>
        <p><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createStudent">Create Student</button></p>
        <!-- Modal -->
        <div class="modal fade" id="createStudent" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <form role="form" action="createStudent" method="post">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Create Student</h4>
                    </div>
                    <div class="modal-body">
                            <div class="form-group">
                                <label for="id">id:</label>
                                <input type="text" class="form-control" id="id" name="id" required autofocus>
                            </div>
                            <div class="form-group">
                                <label for="fullname">Full Name:</label>
                                <input type="text" class="form-control" id="fullname" name="fullname" required>
                            </div>
                            <div class="form-group ">
                                <label for="password">Password:</label>
                                <input type="password" class="form-control" id="password" name="password" required>
                            </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-default">Create</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <div class="container table-responsive">
        <table class="table table-condensed">
            <tr>
                <th>Student ID</th>
                <th>Student Name</th>
                <th>Nick Name</th>
                <th colspan="3">Action</th>
            </tr>
            <% students.forEach(function(student) { %>
            <tr>
                <td style="vertical-align: middle" class="col-md-1"><%= student.id %></td>
                <td style="vertical-align: middle" class="col-md-2"><%= student.fullname %></td>
                <td style="vertical-align: middle" class="col-md-2"><%= student.nickname %></td>
                <form id="changepw-<%= student.id %>" role="form" action="./changePassword/<%= student.id %>" method="post">
                    <td class="col-md-2"><input type="text" class="form-control" id="password-<%= student.id %>" name="password" placeholder="New Password" required="required"></td>
                    <td class="col-md-1"><button type="submit" class="btn btn-default">Change Password</button></td>
                </form>
                <td class="col-md-1"><div class="dropdown">
                        <button class="btn btn-danger dropdown-toggle" type="button" data-toggle="dropdown">Delete Account
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a href="./deleteStudent/<%= student.id %>">Delete Account!</a></li>
                        </ul>
                    </div>
                </td>
            </tr>
            <% }); %>
        </table>
    </div>

</div>
<% include foot %>
</body>
</html>

